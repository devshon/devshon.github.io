---
layout: single

title: "node 기본 서버 구축"

categories: BackEnd

tag: [total, node]
---

- 초기 서버폴더 생성

```bash
mkdir dev-server // 서버를 만들 폴더 생성
cd dev-server
npm init -y // package.json 생성
```

- express가 없는 기본 node 서버 생성

```bash
// server.js
const http = require('http')

const server = http.createServer((req, res) => {
  console.log('request received')

  res.setHeader('Content-Type', 'application/json')
  res.end(JSON.stringify({ message: "Welcome to server! Http server without express" }))
});

server.listen(8000, () => {
  console.log('server is running on PORT 8000')
}) // 5
```

- 서버 실행

```bash
node server.js
```

- express 설치

```bash
npm install express --save
```

- express 적용하여 서버 생성

```bash
const http = require('http')
const express = require('express')
const { sendProducts } = require('./sendProducts2')

const app = express()
app.use(express.json())

app.get('/ping', (req, res) => {
  res.json({ message: '/ pong' })
})

app.post('/signup', (req, res) => {res.json('signup success')}) // 첫번째 인자에는 endpoint url 을 기입하고,
app.post('/login', (req, res) => {res.json('login success')}) // 각각의 요청에 대해 핸들링 하는 함수를 두번째 인자로 넣습니다.
app.get('/products', sendProducts)

const server = http.createServer(app)

server.listen(8000, () => {
  console.log('server is listening on PORT 8000')
})
```

- node는 코드수정 시 서버에 자동반영이 안됩니다. 그래서 nodemon을 설치합니다.

```bash
npm install -g nodemon
```

- nodemon 적용하기 위해 package.json에 스크립트 수정

```json
"script": {
	"start": "nodemon server.js"
}
```
